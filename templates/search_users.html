{% extends 'base.html' %}

{% block content %}
<h2 class="text-center mb-4">사용자 검색</h2>
<div class="row justify-content-center">
    <div class="col-md-8">
        <form method="GET" action="{{ url_for('search_users') }}" class="mb-4">
            <div class="input-group">
                <input type="text" class="form-control" placeholder="이름 또는 학교로 검색" name="query" value="{{ query }}">
                <button class="btn btn-outline-primary" type="submit">검색</button>
            </div>
        </form>

        {% if users %}
            <ul class="list-group">
                {% for user in users %}
                <li class="list-group-item d-flex justify-content-between align-items-center">
                    <a href="{{ url_for('user_profile', username=user.username) }}" class="text-decoration-none text-dark d-flex align-items-center">
                        <img src="{{ url_for('get_user_avatar', user_id=user.id) }}" class="rounded-circle me-3" alt="프로필 사진" style="width: 40px; height: 40px; object-fit: cover;">
                        <div>
                            <strong>{{ user.real_name }}</strong> ({{ user.username }})
                            <br>
                            <small class="text-muted">{{ user.school or '학교 정보 없음' }}</small>
                        </div>
                    </a>
                </li>
                {% endfor %}
            </ul>
        {% elif query %}
            <p class="text-center text-muted">"{{ query }}"에 대한 검색 결과가 없습니다.</p>
        {% endif %}
    </div>
</div>
{% endblock %}
